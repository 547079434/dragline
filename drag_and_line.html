<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>拖拽连线</title>
    <link rel="stylesheet" type="text/css" href="css/dragline.css">
    <script type="text/javascript" src="js/jquery-3.2.0.min.js"></script>
    <script type="text/javascript" src="js/dragline.js"></script>
    <style type="text/css">
    html,body{width: 100%;height: 100%;margin:0;}
    .menu{width: 800px;height: 50px;margin:0 auto;}
    .button{margin:10px;cursor: pointer;width: 80px;height: 30px;}
    select {float: right;width: 50px;height: 20px;margin:15px;}
    .actionbtn{ border: 2px solid outset;background: #ccc; }
    .clicked { border-style: inset; }
    </style>
</head>
<body>
    <div class="menu">
        <button class="button" onclick="add();">添加</button>
        <button class="button actionbtn" name="move">移动</button>
        <button class="button actionbtn" name="draw">画线</button>
        <button class="button actionbtn" name="delete">删除</button>
        <select id="stroke_style">
            <option value="0">——</option>
            <option value="1">- - - -</option>
        </select>
        <select id="stroke_color" style="font-weight:bold;">
            <option value="black" style="color:black">——</option>
            <option value="red" style="color:red">——</option>
            <option value="green" style="color:green">——</option>
            <option value="#ccc" style="color:#ccc">——</option>
        </select>
    </div>
    
    <script type="text/javascript">
    var board = DragLine.CreateBoard($('body'));
    // board.setSize(500,300);
    // board.setBorder(5,'yellow');
    function add(){
        var inside = '<circle cx="50" cy="50" r="40" style="fill:blue;"/>';
        var obj = board.createMoveObj(inside);
        obj.setSize(100,100);
        // obj.setFix(100,50);
    }

    $('.actionbtn').click(function(){
        if($(this).hasClass('clicked')){
            $(this).removeClass('clicked');
            board.setStatus(0);
        }else{
            $('.actionbtn').removeClass('clicked');
            if($(this).attr('name')=='move'){
                $(this).addClass('clicked');
                board.setStatus(1);
            }else if($(this).attr('name')=='draw'){
                $(this).addClass('clicked');
                board.setStatus(2);
            }else if($(this).attr('name')=='delete'){
                $(this).addClass('clicked');
                board.setStatus(3);
            }
        }
    })
    $('#stroke_style').change(function(){
        var val = $(this).val();
        board.setLineStyle(val);
    })
    $('#stroke_color').change(function(){
        var val = $(this).val();
        $(this).css('color',val);
        board.setLineColor(val);
    })

    </script>
</body>
</html>