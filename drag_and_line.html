<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>拖拽连线</title>
    <link rel="stylesheet" type="text/css" href="css/dragline.css">
    <script type="text/javascript" src="js/jquery-3.2.0.min.js"></script>
    <script type="text/javascript" src="js/dragline.js"></script>
    <style type="text/css">
    html,body{width: 100%;height: 100%;margin:0;}
    .form{width: 100%;height: 50px;margin:20px;}
    </style>
</head>
<body>
    <div class="form">
        <input type="checkbox" name="family" value="1" checked />亲属关系
        <input type="checkbox" name="friend" value="2" checked />协作关系
        <input type="text" name="min" style="margin-left:100px;width:30px;" value="0" /> —— <input type="text" name="max" style="width:30px;" value="100">
        <button>筛选</button>
    </div>
    <script type="text/javascript">
    var board = DragLine.CreateBoard($('body'));
    // DragLine.CreateMenu(board);
    board.setSize(600,550);
    board.setBorder(0);
 
    // var inside = '<circle cx="55" cy="55" r="40" style="fill:none;" stroke="blue" stroke-width="2"/><rect width="30" height="16" x="0" y="47" rx="5" ry="5" fill="orange"/>';
    // var obj = board.createMoveObj(inside,100,100,'test');
    // obj.setSize(110,110);
    // obj.setFix(15,55);

    var data = {
        'father':{'id':'main','name':'张三'},
        'children':[
            {'id':'1','name':'名字','style':1,'close':90},
            {'id':'2','name':'名字','style':1,'close':90},
            {'id':'3','name':'名字','style':1,'close':90},
            {'id':'7','name':'名字','style':2,'close':90},
            {'id':'8','name':'名字','style':2,'close':90},
            {'id':'11','name':'名字','style':1,'close':80},
            {'id':'12','name':'名字','style':1,'close':80},
            {'id':'13','name':'名字','style':1,'close':80},
            {'id':'14','name':'名字','style':1,'close':80},
            {'id':'16','name':'名字','style':2,'close':80},
            {'id':'17','name':'名字','style':2,'close':80},
            {'id':'18','name':'名字','style':2,'close':80},
            {'id':'21','name':'名字','style':1,'close':50},
            {'id':'22','name':'名字','style':1,'close':50},
            {'id':'23','name':'名字','style':2,'close':50},
            {'id':'24','name':'名字','style':2,'close':50},
            {'id':'31','name':'名字','style':1,'close':40},
            {'id':'32','name':'名字','style':1,'close':40},
            {'id':'35','name':'名字','style':1,'close':40},
            {'id':'36','name':'名字','style':1,'close':40},
            {'id':'33','name':'名字','style':2,'close':40},
            {'id':'34','name':'名字','style':2,'close':40},
            {'id':'39','name':'名字','style':2,'close':40},
        ]
    }
    var info = DragLine.LoadingInfo(board,data);

    $('input[type="checkbox"]').change(function(){
        var is_checked = $(this).is(':checked');
        var val = $(this).val();
        if(is_checked){
            info.selectStyle(val,2);
        }else{
            info.selectStyle(val,1);
        }
    })
    $('button').click(function(){
        var min = $('input[name="min"]').val();
        var max = $('input[name="max"]').val();
        info.selectClose(min,max);
    })
    </script>
</body>
</html>